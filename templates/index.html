<!DOCTYPE html>
<html>
<head>
  <title>Dog Breed Classifier</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; text-align: center; }
    #output img { max-width: 300px; margin-top: 20px; }
    .prediction { margin: 5px 0; font-size: 18px; }
  </style>
</head>
<body>
  <h1>üê∂ Dog Breed Classifier</h1>
  <form id="uploadForm">
    <input type="file" id="imageFile" name="file" accept="image/*" required><br><br>
    <button type="submit">Predict</button>
  </form>

  <div id="output">
    <img id="preview" src="#" alt="" style="display: none;">
    <div id="predictions"></div>
  </div>

  <script>
    const form = document.getElementById('uploadForm');
    const preview = document.getElementById('preview');
    const predictionsDiv = document.getElementById('predictions');

    form.addEventListener('submit', async (e) => {
      e.preventDefault();

      const fileInput = document.getElementById('imageFile');
      const file = fileInput.files[0];

      // Show image preview
      const reader = new FileReader();
      reader.onload = () => {
        preview.src = reader.result;
        preview.style.display = 'block';
      };
      reader.readAsDataURL(file);

      const formData = new FormData();
      formData.append('file', file);

      const response = await fetch('/predict', {
        method: 'POST',
        body: formData
      });

      const predictions = await response.json();
      predictionsDiv.innerHTML = '';

      predictions.forEach(pred => {
        const p = document.createElement('div');
        p.className = 'prediction';
        p.textContent = `${pred.label} ‚Üí ${(pred.score * 100).toFixed(2)}%`;
        predictionsDiv.appendChild(p);
      });
    });
  </script>
</body>
</html>
